<!DOCTYPE html>
<html>
<head>
	<title>Register Form</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js" integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <style>
        body{
          background-image: url(https://dm0qx8t0i9gc9.cloudfront.net/thumbnails/video/UD7CEz6/bank-bank-building-branch_vyks9ofi_thumbnail-1080_01.png);
      }
      label{
        color: white;
      }

      #passwordHelpBlock{
        color: seashell;
      }

      h1{
        color:dodgerblue;
        font-weight: bolder;
        font-size: 40px;
      }
  </style>
</head>
<body>
    <div class="container">
        <%- include('flash-messages') %>
        <h1>Account Details</h1>
	<form class="row g-3" method="post" action="/register">
        <div class="col-md-6">
          <label for="holdername" class="form-label">Account Holder Name</label>
          <input type="text" class="form-control" name="name" id="holdername">
        </div>
        <div class="col-md-6">
          <label for="inputEmail" class="form-label">Email</label>
          <input type="email" class="form-control" name="email" id="inputEmail">
        </div>
        <div class="col-12">
          <label for="inputAddress" class="form-label">Address</label>
          <input type="text" class="form-control" name="address" id="inputAddress" placeholder="1234 Main St">
        </div>
        <div class="col-md-4">
          <label for="inputState" class="form-label">Account Type</label>
          <select id="inputState" class="form-select" name="type">
            <option selected>Choose...</option>
            <option value="Saving">Saving</option>
            <option value="Credit">Credit</option>
            <option value="Current">Current</option>
          </select>
        </div>
        <div class="col-12">
            <label for="phone" class="form-label">Phone Number</label>
            <input type="text" class="form-control" name="phone" id="phone">
          </div>
        <div class="col-12">
            <label for="username" class="form-label">Username</label>
            <input type="text" class="form-control" name="username" id="username">
          </div>
        <div class="col-md-2">
          <label for="password" class="form-label">Password</label>
          <input type="password" class="form-control" id="password" onchange="onPasswordChange()" name="password" required>
          <small id="passwordHelpBlock" class="form-text">
            Your password must be at least 8 characters long, contain at least one uppercase letter, one lowercase letter, one number, and one special character.
        </small>
        <div id="password-strength-meter">
            <div id="password-strength-meter-fill"></div>
        </div>
        </div>
        <div class="col-12">
          <button type="submit" id="submit" class="btn btn-primary" disabled>Create Account</button>
        </div>
      </form>
    </div>
</body>
<script>
     function onPasswordChange() {
    const password = document.getElementById("password").value;
    const passwordHelpBlock = document.getElementById("passwordHelpBlock");
    const submitButton = document.getElementById("submit");
    
    const regex = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{8,}$/;
    const isValidPassword = regex.test(password);
    
    if (isValidPassword) {
        passwordHelpBlock.innerText = "Great! Your password meets the requirements.";
        passwordHelpBlock.classList.add("text-success");
        passwordHelpBlock.classList.remove("text-danger");
        submitButton.disabled = false;
    } else {
        passwordHelpBlock.innerText = "Your password must be at least 8 characters long, contain at least one uppercase letter, one lowercase letter, one number, and one special character.";
        passwordHelpBlock.classList.add("text-danger");
        passwordHelpBlock.classList.remove("text-success");
        submitButton.disabled = true;
    }
        }

</script>
</html>
